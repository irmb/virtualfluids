GET_FILENAME_COMPONENT( CURRENT_DIR  ${CMAKE_CURRENT_LIST_FILE} PATH) 
COLLECT_QT_PACKAGE_DATA_WITH_OPTION(${CURRENT_DIR} ALL_SOURCES)

#SET(SUBDIRPATH numerics/geometry3d/presentation) 
#SET(OPTION_LABEL BUILD_GEOMETRY3DPRESENTATION)
#
#SET(CURRENT_DIR ${SOURCE_ROOT}/${SUBDIRPATH})
#
#IF(${WITH_SUBFOLDERS_FOR_SG} MATCHES YES)  
#    STRING(REGEX REPLACE "/" "\\\\" SUBDIRPATH ${SUBDIRPATH})
#ENDIF(${WITH_SUBFOLDERS_FOR_SG} MATCHES YES)
#
#OPTION(${OPTION_LABEL} "${CURRENT_DIR}" ON)
#IF(${OPTION_LABEL})
#
#  SET(TEMP_FILES "")
#  ################################################################
#  ###             GET HEADER AND SOURCE FILES                  ###
#  ################################################################
#  FILE(GLOB HEADER_FILES ${CURRENT_DIR}/*.h  )
#  FILE(GLOB CPP_FILES    ${CURRENT_DIR}/*.cpp)
#  
#  IF(NOT NEED_VTK)
#    FILE(GLOB VTK_FILES ${CURRENT_DIR}/*vtk*  )
#    REMOVE(HEADER_FILES ${VTK_FILES} )
#    REMOVE(CPP_FILES    ${VTK_FILES} )
#  ENDIF(NOT NEED_VTK)
#
#  SET(TEMP_FILES ${HEADER_FILES} ${CPP_FILES})
#
#  SOURCE_GROUP(${SUBDIRPATH} FILES ${TEMP_FILES})
# 
#  ################################################################
#  ###             VTK STUFF                                    ###
#  ################################################################
#  
##GANZ SICHER NICHT!!!!! -> bitte NEED_VTK im globalen CMakeLists.txt definieren
##SET(NEED_VTK "TRUE")
#
#  ################################################################
#  ###             Qt STUFF                                     ###
#  ################################################################
#  SET(NEED_QT "YES")
#  INCLUDE(${SOURCE_ROOT}/CMakeQtMacros.txt)
#  IF(QT_FOUND)
#    ################################################################
#    ###         Qt4      UI FILES                                ###
#    ################################################################
#    FILE(GLOB UI_FILES ${CURRENT_DIR}/*.ui)           #collect ui files
#    QT4_WRAP_UI(${CURRENT_DIR} OUTFILES ${UI_FILES})  #wrap ui files
#    REMOVE(TEMP_FILES ${OUTFILES} )
#    SET(TEMP_FILES ${TEMP_FILES} ${OUTFILES} )
#    
#    #make subfolders for VS with new files
#    SOURCE_GROUP(${SUBDIRPATH} FILES ${OUTFILES})
#    
#    IF(WIN32)
#      SET(ALL_SOURCES ${ALL_SOURCES} ${UI_FILES})
#      SOURCE_GROUP(${SUBDIRPATH} FILES ${UI_FILES})
#    ENDIF(WIN32)
#
#    ################################################################
#    ###       Qt4        HEADERS TO BE MOCED                     ###
#    ################################################################
#    MAKE_DIRECTORY(${CURRENT_DIR}${QTGEN_MOC})
#    SET(HEADER_FILES_FOR_MOCCHECK ${HEADER_FILES})
#    REMOVE(HEADER_FILES_FOR_MOCCHECK ${OUTFILES} ) #bereits durch QT4_WRAP_UI bearbeitete Header-files entferne
#    QT4_GET_TOBEMOCED_HEADERS(MOC_CLASSES ${HEADER_FILES_FOR_MOCCHECK})
#    IF(MOC_CLASSES)    
#       SET(MOC_FILES ) #empty MOC_FILES
#       QT4_WRAP_CPP(${CURRENT_DIR}${QTGEN_MOC} MOC_FILES ${MOC_CLASSES})
#       REMOVE(TEMP_FILES ${MOC_FILES})
#       SET(TEMP_FILES ${TEMP_FILES} ${MOC_FILES})
#       SOURCE_GROUP(${SUBDIRPATH}${QTGEN_MOC} FILES ${MOC_FILES})
#    ENDIF(MOC_CLASSES)
#
#    #MAKE_DIRECTORY(${CURRENT_DIR}${QTGEN_MOC})
#    #SET(MOC_FILES ) #empty MOC_FILES
#    #SET(MOC_CLASSES
#    #        ${CURRENT_DIR}/QGbObject2DViewer.h
#    #        ${CURRENT_DIR}/QGbObject2DMainWindow.h
#    #    )
#
#    #QT4_WRAP_CPP(${CURRENT_DIR}${QTGEN_MOC} MOC_FILES ${MOC_CLASSES})
#    #REMOVE(TEMP_FILES ${MOC_FILES})
#    #SET(TEMP_FILES ${TEMP_FILES} ${MOC_FILES})
#    #SOURCE_GROUP(${SUBDIRPATH}${QTGEN_MOC} FILES ${MOC_FILES})
#
#   ENDIF(QT_FOUND)
#
#  SET(ALL_SOURCES ${ALL_SOURCES} ${TEMP_FILES})
#
#ENDIF(${OPTION_LABEL})
